from telegram import  ReplyKeyboardMarkup, InputMediaDocument
from telegram.ext import Updater, CommandHandler, ConversationHandler, MessageHandler, Filters 

buttons = ReplyKeyboardMarkup([["O'zbek"], ["Ğ ÑƒÑÑĞºĞ¸Ğ¹"]], resize_keyboard=True)
#O'zbekchasi
menus = ReplyKeyboardMarkup([["KitoblarğŸ“š","GrammatikalarğŸ“–"], ["So'zlarğŸ“‘","Video darslikğŸ"],["Online TopikğŸ“", "Darslik kitoblarğŸ““","ğŸ”™Orqaga"]], resize_keyboard=True)
#Ruschasi
menus2 = ReplyKeyboardMarkup([["ĞšĞ½Ğ¸Ğ³Ğ¸ğŸ“š","Ğ“Ñ€Ğ°Ğ¼Ğ¼Ğ°Ñ‚Ğ¸ĞºĞ°ğŸ“–"], ["Ğ¡Ğ»Ğ¾Ğ²Ğ°ğŸ“‘","Ğ’Ğ¸Ğ´ĞµĞ¾ ÑƒÑ€Ğ¾ĞºĞ¸ğŸ"],["ĞĞ½Ğ»Ğ°Ğ¹Ğ½ TOPIKğŸ“","ğŸ”™ĞĞ°Ğ·Ğ°Ğ´"]], resize_keyboard=True)
#Kitob ichidagi
menus3 = ReplyKeyboardMarkup([["ì—°ì„¸", "í•œêµ­ì–´"], [ "ë‹¤ë¥¸ ì±…","ğŸ”™Ortga"]], resize_keyboard=True )
#So'zlar ichidagi
menus4 = ReplyKeyboardMarkup([["ì´ˆê¸‰ Boshlang'ich", "ì¤‘ê¸‰ O'rta"], ["ê³ ê¸‰ Yuqori", "ğŸ”™Ortga"]], resize_keyboard=True )
#Darslik kitoblar
menus5 =  ReplyKeyboardMarkup([["1", "2"], ["3", "ğŸ”™Ortga"]], resize_keyboard=True )



def start(update, context):
    update.message.reply_html(
        '<b>Assalomu aleykum. {} </b>\n \n Kerakli tilni tanlang. \n Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ ÑĞ·Ñ‹Ğº.' .format(update.message.from_user.first_name), reply_markup=buttons)
    return 1
    

def Uzbek(update, context):
    update.message.reply_html(
        "Koreys tiliga oid Kitoblar, Grammatikalar, So'zlar, Videolar darsliklar, Online Topiklar shu botda.", reply_markup=menus)

def Ğ ÑƒÑÑĞºĞ¸Ğ¹(update, context):
    update.message.reply_html(
        "ĞŸĞ¾ ĞºĞ¾Ñ€ĞµĞ¹ÑĞºĞ¾Ğ¼Ñƒ ÑĞ·Ñ‹ĞºÑƒ ĞšĞ½Ğ¸Ğ³Ğ¸, Ğ“Ñ€Ğ°Ğ¼Ğ¼Ğ°Ñ‚Ğ¸ĞºĞ°, Ğ¡Ğ»Ğ¾Ğ²Ğ°, Ğ’Ğ¸Ğ´ĞµĞ¾ ÑƒÑ€Ğ¾ĞºĞ¸, ĞĞ½Ğ»Ğ°Ğ¹Ğ½ Topik Ğ² ÑÑ‚Ğ¾Ğ¼ Ğ±Ğ¾Ñ‚Ğµ",reply_markup=menus2)

# Uzbek
def Kitoblar(update, context): 
    update.message.reply_html(
    "Bo'limni tanlang",reply_markup=menus3)
# Kitoblar to'plami
def Yonse(update, context):
    file="C:/python_dars/Yonsei 1.pdf"
    data = []
    books = ['Yonsei 1.pdf', 'Yonsei 2.pdf', 'Yonsei 3.pdf', 'Yonsei 4.pdf', 'Yonsei 5.pdf', 'Yonsei Audio 1.zip','Yonsei Audio 2.zip','Yonsei Audio 3.zip','Yonsei Audio 4.zip','Yonsei Audio 5.zip']
    for book in books:
        context.bot.send_document(chat_id=update.message.chat_id, document=open('C:/python_dars/%s' % book, 'rb'))
        #data.append(InputMediaDocument(open('C:/python_dars/%s' % book, 'rb'), caption = book))
    #context.bot.send_media_group(chat_id = update.message.chat_id, media = data)
 
def Hangugo(update, context):
    file="C:/python_dars/Kitob 1.pdf"
    data = []
    books = ['Kitob 1.pdf','Kitob 2.pdf', 'Kitob 3.pdf', 'Kitob 4.pdf','Kitob 5.pdf','Kitob 6.pdf','Kitob 7.pdf','Kitob 8.pdf']
    for book in books:
        context.bot.send_document(chat_id=update.message.chat_id, document=open('C:/python_dars/%s' % book, 'rb'))
        #data.append(InputMediaDocument(open('C:/python_dars/%s' % book, 'rb'), caption = book))
    #context.bot.send_media_group(chat_id = update.message.chat_id, media = data)


def Tarinchek(update, context):
    file="C:/python_dars/Ertak kitob 1.pdf"
    data = []
    books = ['Ertak kitob 1.pdf', 'Ertak kitob 2.pdf', 'Ertak kitob 3.pdf', 'Ertak kitob 4.pdf','Ertak kitob 5.pdf','Ertak kitob 6.pdf','Ertak kitob 7.pdf','Alisa.pdf','Kichkina shaxzoda.pdf']
    for book in books:
        context.bot.send_document(chat_id=update.message.chat_id, document=open('C:/python_dars/%s' % book, 'rb'))
        #data.append(InputMediaDocument(open('C:/python_dars/%s' % book, 'rb'), caption = book))
    #context.bot.send_media_group(chat_id = update.message.chat_id, media = data)

def Ortga(update, context):
    update.message.reply_html(
        "Bo'limni tanlang",reply_markup=menus)





# Grammatikalar
def Grammatikalar(update, context):
    file="C:/python_dars/Barcha grammatikalar.pdf"
    context.bot.send_document(chat_id=update.message.chat_id, document=open(file, 'rb'))



# So'zlar
def Sozlar(update, context):
    update.message.reply_html(
        "Bo'limni tanlang", reply_markup=menus4)

def ì´ˆê¸‰ (update, context):
    file="C:/python_dars/1.pdf"
    data = []
    books = ['1.pdf','1-1.pdf','1-2.pdf','1-3.pdf']
    for book in books:
        context.bot.send_document(chat_id=update.message.chat_id, document=open('C:/python_dars/%s' % book, 'rb'))
        #data.append(InputMediaDocument(open('C:/python_dars/%s' % book, 'rb'), caption = book))
    #context.bot.send_media_group(chat_id = update.message.chat_id, media = data)


def ì¤‘ê¸‰ (update, context):
    file="C:/python_dars/2.pdf"
    data = []
    books = ['2.pdf','2-2.pdf','2-3.pdf','2-4.pdf','2-5.pdf']
    for book in books:
        context.bot.send_document(chat_id=update.message.chat_id, document=open('C:/python_dars/%s' % book, 'rb'))
        #data.append(InputMediaDocument(open('C:/python_dars/%s' % book, 'rb'), caption = book))
    #context.bot.send_media_group(chat_id = update.message.chat_id, media = data)



def ê³ ê¸‰ (update, context):
    file="C:/python_dars/3.pdf"
    data = []
    books = ["3.pdf", "3-1.pdf",'2000 Korean Words.pdf']
    for book in books:
        context.bot.send_document(chat_id=update.message.chat_id, document=open('C:/python_dars/%s' % book, 'rb'))

        #data.append(InputMediaDocument(open('C:/python_dars/%s' % book, 'rb'), caption = book))
    #context.bot.send_media_group(chat_id = update.message.chat_id, media = data)

    
def Ortga (update, context):
    update.message.reply_html(
        "Bo'limni tanlang",reply_markup=menus)


# Videolar
def Videolar(update, context):
    update.message.reply_html(
        "Koreys tilini mukammal o'rganing.ğŸ‘‡      https://www.youtube.com/watch?v=zFcTtqrsflc&list=PLahs8zJoTSMhi6TgVv-xGL5QDv7YU-Bh0",reply_markup=menus)


# Topiklar
def Topik(update, context):
    update.message.reply_html(
        "Ushbu link orqali siz online TOPIK testlarini yechasiz.ğŸ‘‡       https://www.topikguide.com/complete-topik-practice-test-online/", reply_markup=menus)


#Darslik kitoblar
def Kitob(update, context):
     update.message.reply_html(
        "Darslik uchun kitoblar", reply_markup=menus5)
def va(update, context):
    file="C:/python_dars/Oson 1.pdf"
    data = []
    books = ["Oson 1.pdf", "Oson 2.pdf"]
    for book in books:
        context.bot.send_document(chat_id=update.message.chat_id, document=open('C:/python_dars/%s' % book, 'rb'))
        #data.append(InputMediaDocument(open('C:/python_dars/%s' % book, 'rb'), caption = book))
    #context.bot.send_media_group(chat_id = update.message.chat_id, media = data)

def na(update, context):
    file="C:/python_dars/Boshlang'ich 1.pdf"
    data = []
    books = ["Boshlang'ich 1.pdf.pdf", "Boshlang'ich 2.pdf","korean book.pdf"]
    for book in books:
        context.bot.send_document(chat_id=update.message.chat_id, document=open('C:/python_dars/%s' % book, 'rb'))
        #data.append(InputMediaDocument(open('C:/python_dars/%s' % book, 'rb'), caption = book))
    #context.bot.send_media_group(chat_id = update.message.chat_id, media = data)


def da(update, context):
    file="C:/python_dars/Hangugo 1.pdf"
    data = []
    books = ["Hangugo 1.pdf", "Hangugo 2.pdf"]
    for book in books:
        context.bot.send_document(chat_id=update.message.chat_id, document=open('C:/python_dars/%s' % book, 'rb'))
        #data.append(InputMediaDocument(open('C:/python_dars/%s' % book, 'rb'), caption = book))
    #context.bot.send_media_group(chat_id = update.message.chat_id, media = data)



def Ortga(update, context):
    update.message.reply_html(
        "Bo'limni tanlang", reply_markup=menus)


# Ğ ÑƒÑÑĞºĞ¸Ğ¹
def ĞšĞ½Ğ¸Ğ³Ğ¸(update, context):
    update.message.reply_html(
        "", reply_markup=menus2)

def Ğ“Ñ€Ğ°Ğ¼Ğ¼Ğ°Ñ‚Ğ¸ĞºĞ°(update, context):
    update.message.reply_html(
        "dvd",reply_markup=menus2)

def Ğ¡Ğ»Ğ¾Ğ²Ğ° (update, context):
    file="C:/python_dars/Ğ¡Ğ»Ğ¾Ğ²Ğ° 1.pdf"
    data = []
    books = ["Ğ¡Ğ»Ğ¾Ğ²Ğ° 1.pdf", "Ğ¡Ğ»Ğ¾Ğ²Ğ° 2.pdf","Ğ¡Ğ»Ğ¾Ğ²Ğ° 4.pdf","Ğ¡Ğ»Ğ¾Ğ²Ğ° 3.pdf"]
    for book in books:
        context.bot.send_document(chat_id=update.message.chat_id, document=open('C:/python_dars/%s' % book, 'rb'))
        #data.append(InputMediaDocument(open('C:/python_dars/%s' % book, 'rb'), caption = book))
    #context.bot.send_media_group(chat_id = update.message.chat_id, media = data)

def Ğ’Ğ¸Ğ´ĞµĞ¾ (update, context):
    update.message.reply_html(
        "Ğ’Ñ‹ÑƒÑ‡Ğ¸Ñ‚ÑŒ ĞºĞ¾Ñ€ĞµĞ¹ÑĞºĞ¸Ğ¹ Ğ² ÑĞ¾Ğ²ĞµÑ€ÑˆĞµĞ½ÑÑ‚Ğ²Ğµ.ğŸ‘‡                https://www.youtube.com/watch?v=zFcTtqrsflc&list=PLahs8zJoTSMhi6TgVv-xGL5QDv7YU-Bh0",reply_markup=menus2)

def TOPIK(update, context):
    update.message.reply_html(
        "ĞŸĞ¾ ÑÑ‚Ğ¾Ğ¹ ÑÑÑ‹Ğ»ĞºĞµ Ğ²Ñ‹ Ğ±ÑƒĞ´ĞµÑ‚Ğµ Ñ€ĞµÑˆĞ°Ñ‚ÑŒ Ğ¾Ğ½Ğ»Ğ°Ğ¹Ğ½ Ğ¢OPIK Ñ‚ĞµÑÑ‚Ñ‹.ğŸ‘‡          https://www.topikguide.com/complete-topik-practice-test-online/", reply_markup=menus2)






updater = Updater('5382265371:AAHHg-2-GKzS0UMujKme3_6AYfEAVOmzjp0', use_context=True)
conv_handler = ConversationHandler(
    entry_points = [CommandHandler('start', start)],
    states={
        1: [MessageHandler(Filters.regex("^(O'zbek)$"), Uzbek),
            MessageHandler(Filters.regex("^(Ğ ÑƒÑÑĞºĞ¸Ğ¹)$"), Ğ ÑƒÑÑĞºĞ¸Ğ¹),
            
            MessageHandler(Filters.regex("^(KitoblarğŸ“š)$"),Kitoblar),
            MessageHandler(Filters.regex("^(GrammatikalarğŸ“–)$"), Grammatikalar),
            MessageHandler(Filters.regex("^(So'zlarğŸ“‘)$"),Sozlar),
            MessageHandler(Filters.regex("^(Video darslikğŸ)$"), Videolar),
            MessageHandler(Filters.regex("^(Online TopikğŸ“)$"),Topik),
            MessageHandler(Filters.regex("^(Darslik kitoblarğŸ““)$"),Kitob),
            MessageHandler(Filters.regex("^(ğŸ”™Ortga)$"), Ortga),
            MessageHandler(Filters.regex("^(ĞšĞ½Ğ¸Ğ³Ğ¸ğŸ“š)$"), ĞšĞ½Ğ¸Ğ³Ğ¸),
            MessageHandler(Filters.regex("^(Ğ“Ñ€Ğ°Ğ¼Ğ¼Ğ°Ñ‚Ğ¸ĞºĞ°ğŸ“–)$"), Ğ“Ñ€Ğ°Ğ¼Ğ¼Ğ°Ñ‚Ğ¸ĞºĞ°),
            MessageHandler(Filters.regex("^(Ğ¡Ğ»Ğ¾Ğ²Ğ°ğŸ“‘)$"),Ğ¡Ğ»Ğ¾Ğ²Ğ°),
            MessageHandler(Filters.regex("^(Ğ’Ğ¸Ğ´ĞµĞ¾ ÑƒÑ€Ğ¾ĞºĞ¸ğŸ)$"), Ğ’Ğ¸Ğ´ĞµĞ¾),
            MessageHandler(Filters.regex("^(ĞĞ½Ğ»Ğ°Ğ¹Ğ½ TOPIK)$"),TOPIK),
            MessageHandler(Filters.regex("^(ğŸ”™Ortga)$"),Ortga),
            MessageHandler(Filters.regex("^(ì—°ì„¸)$"),Yonse),
            MessageHandler(Filters.regex("^(í•œêµ­ì–´)$"),Hangugo),
            MessageHandler(Filters.regex("^(ë‹¤ë¥¸ ì±…)$"),Tarinchek),
            MessageHandler(Filters.regex("^(ì´ˆê¸‰ Boshlang'ich)$"), ì´ˆê¸‰),
            MessageHandler(Filters.regex("^(ì¤‘ê¸‰ O'rta)$"), ì¤‘ê¸‰),
            MessageHandler(Filters.regex("^(ê³ ê¸‰ Yuqori)$"), ê³ ê¸‰),
            MessageHandler(Filters.regex("^(1)$"),va),
            MessageHandler(Filters.regex("^(2)$"),na),
            MessageHandler(Filters.regex("^(3)$"),da),
            MessageHandler(Filters.regex("^(ğŸ”™Ortga)$"),Ortga),
            ]
       
        
       
    },
    fallbacks=[MessageHandler(Filters.text, start)]
)

updater.dispatcher.add_handler(conv_handler)
updater.start_polling()
updater.idle()
